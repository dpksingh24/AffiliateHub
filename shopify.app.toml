# Learn more about configuring your app at https://shopify.dev/docs/apps/tools/cli/configuration

client_id = "5b820bb4c1bf85a6f0e95662da57fb7a"
name = "kiscience"
handle = "kiscience-dashboard"
application_url = "https://boating-fruit-flexible-sword.trycloudflare.com"
embedded = true

[access_scopes]
scopes = "read_products,write_products,read_themes,write_themes,write_content,read_customers,write_customers,read_discounts,write_discounts"

[build]
automatically_update_urls_on_dev = true
dev_store_url = "kiscience.myshopify.com"

[webhooks]
api_version = "2025-07"

# App lifecycle webhook
[[webhooks.subscriptions]]
topics = ["app/uninstalled"]
uri = "/webhooks/app/uninstalled"

# GDPR Mandatory webhooks (required for public apps)
# Note: compliance_topics are used for GDPR webhooks, not regular topics
[[webhooks.subscriptions]]
compliance_topics = ["customers/data_request", "customers/redact", "shop/redact"]
uri = "/webhooks"

[auth]
redirect_urls = [
  "https://boating-fruit-flexible-sword.trycloudflare.com/running",
  "https://boating-fruit-flexible-sword.trycloudflare.com/auth/callback"
]

[pos]
embedded = false

[app_proxy]
url = "https://heart-furthermore-placement-msg.trycloudflare.comapi"
subpath = "kiscience"
prefix = "apps"
